import{Q as Ee,a as it,b as st}from"./QLayout.0cdb3cf1.js";import{c as X,a as i,h as V,b as le,r as S,u as ct,d as Ae,e as dt,g as oe,s as ye,t as U,Q as G,f as Q,w as C,o as ke,i as ft,j as ne,l as Ce,P as J,k as xe,m as I,n as z,p as M,q as B,v as N,x as Te,y as He,z as qe,A as _e,B as vt,C as K,D as mt,E as ht,F as te,G as ve,H as Ie,I as me,J as we,K as he,L as je,M as Me,N as Ne,O as ze,R as gt,S as pt,_ as bt,T as A,U as yt,V as _t,W as wt,X as kt,Y as Ct,Z as xt,$ as qt,a0 as St,a1 as Vt,a2 as Le}from"./index.546e37fb.js";import{u as We,a as Re,b as Se,g as Bt,c as $t,p as Ot,d as Tt}from"./queries.dad14669.js";import{u as It,a as Mt,b as zt}from"./stompClient.811952bd.js";import{Q as De}from"./QItem.ece6d44b.js";import{c as Lt,u as Dt,a as Qt,b as Ft,d as Pt,e as Et,f as At,g as ae,Q as Ht}from"./QItemSection.8bfaa85e.js";import{Q as jt}from"./QList.b68f77a2.js";import{s as ge}from"./stomp.1f739222.js";import"./scroll.f8e10307.js";var Nt=X({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const a=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>V("div",{class:a.value},le(o.default))}});function Wt(e,o){const a=S(null),m=i(()=>e.disable===!0?null:V("span",{ref:a,class:"no-outline",tabindex:-1}));function t(l){const r=o.value;l!==void 0&&l.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():a.value!==null&&(l===void 0||r!==null&&r.contains(l.target)===!0)&&a.value.focus()}return{refocusTargetEl:m,refocusTarget:t}}var Rt={xs:30,sm:35,md:40,lg:50,xl:60};const Ut={...Re,...dt,...It,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Xt=["update:modelValue"];function Yt(e,o){const{props:a,slots:m,emit:t,proxy:l}=oe(),{$q:r}=l,d=We(a,r),v=S(null),{refocusTargetEl:c,refocusTarget:u}=Wt(a,v),x=ct(a,Rt),k=i(()=>a.val!==void 0&&Array.isArray(a.modelValue)),g=i(()=>{const w=U(a.val);return k.value===!0?a.modelValue.findIndex(O=>U(O)===w):-1}),s=i(()=>k.value===!0?g.value>-1:U(a.modelValue)===U(a.trueValue)),y=i(()=>k.value===!0?g.value===-1:U(a.modelValue)===U(a.falseValue)),_=i(()=>s.value===!1&&y.value===!1),p=i(()=>a.disable===!0?-1:a.tabindex||0),f=i(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(a.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(a.dense===!0?` q-${e}--dense`:"")+(a.leftLabel===!0?" reverse":"")),$=i(()=>{const w=s.value===!0?"truthy":y.value===!0?"falsy":"indet",O=a.color!==void 0&&(a.keepColor===!0||(e==="toggle"?s.value===!0:y.value!==!0))?` text-${a.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${w}${O}`}),H=i(()=>{const w={type:"checkbox"};return a.name!==void 0&&Object.assign(w,{".checked":s.value,"^checked":s.value===!0?"checked":void 0,name:a.name,value:k.value===!0?a.val:a.trueValue}),w}),h=Mt(H),q=i(()=>{const w={tabindex:p.value,role:e==="toggle"?"switch":"checkbox","aria-label":a.label,"aria-checked":_.value===!0?"mixed":s.value===!0?"true":"false"};return a.disable===!0&&(w["aria-disabled"]="true"),w});function j(w){w!==void 0&&(ye(w),u(w)),a.disable!==!0&&t("update:modelValue",re(),w)}function re(){if(k.value===!0){if(s.value===!0){const w=a.modelValue.slice();return w.splice(g.value,1),w}return a.modelValue.concat([a.val])}if(s.value===!0){if(a.toggleOrder!=="ft"||a.toggleIndeterminate===!1)return a.falseValue}else if(y.value===!0){if(a.toggleOrder==="ft"||a.toggleIndeterminate===!1)return a.trueValue}else return a.toggleOrder!=="ft"?a.trueValue:a.falseValue;return a.indeterminateValue}function W(w){(w.keyCode===13||w.keyCode===32)&&ye(w)}function D(w){(w.keyCode===13||w.keyCode===32)&&j(w)}const F=o(s,_);return Object.assign(l,{toggle:j}),()=>{const w=F();a.disable!==!0&&h(w,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const O=[V("div",{class:$.value,style:x.value,"aria-hidden":"true"},w)];c.value!==null&&O.push(c.value);const R=a.label!==void 0?Ae(m.default,[a.label]):le(m.default);return R!==void 0&&O.push(V("div",{class:`q-${e}__label q-anchor--skip`},R)),V("div",{ref:v,class:f.value,...q.value,onClick:j,onKeydown:W,onKeyup:D},O)}}var Kt=X({name:"QToggle",props:{...Ut,icon:String,iconColor:String},emits:Xt,setup(e){function o(a,m){const t=i(()=>(a.value===!0?e.checkedIcon:m.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),l=i(()=>a.value===!0?e.iconColor:null);return()=>[V("div",{class:"q-toggle__track"}),V("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},t.value!==void 0?[V(G,{name:t.value,color:l.value})]:void 0)]}return Yt("toggle",o)}}),Gt=X({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const a=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>V("div",{class:a.value,role:"toolbar"},le(o.default))}}),Jt=X({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:a}){const{proxy:{$q:m}}=oe(),t=ne(Ce,Q);if(t===Q)return console.error("QHeader needs to be child of QLayout"),Q;const l=S(parseInt(e.heightHint,10)),r=S(!0),d=i(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||m.platform.is.ios&&t.isContainer.value===!0),v=i(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return r.value===!0?l.value:0;const f=l.value-t.scroll.value.position;return f>0?f:0}),c=i(()=>e.modelValue!==!0||d.value===!0&&r.value!==!0),u=i(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),x=i(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(c.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),k=i(()=>{const f=t.rows.value.top,$={};return f[0]==="l"&&t.left.space===!0&&($[m.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),f[2]==="r"&&t.right.space===!0&&($[m.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),$});function g(f,$){t.update("header",f,$)}function s(f,$){f.value!==$&&(f.value=$)}function y({height:f}){s(l,f),g("size",f)}function _(f){u.value===!0&&s(r,!0),a("focusin",f)}C(()=>e.modelValue,f=>{g("space",f),s(r,!0),t.animate()}),C(v,f=>{g("offset",f)}),C(()=>e.reveal,f=>{f===!1&&s(r,e.modelValue)}),C(r,f=>{t.animate(),a("reveal",f)}),C(t.scroll,f=>{e.reveal===!0&&s(r,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const p={};return t.instances.header=p,e.modelValue===!0&&g("size",l.value),g("space",e.modelValue),g("offset",v.value),ke(()=>{t.instances.header===p&&(t.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const f=ft(o.default,[]);return e.elevated===!0&&f.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(V(Ee,{debounce:0,onResize:y})),V("header",{class:x.value,style:k.value,onFocusin:_},f)}}});const Zt={class:"flex"},ea={class:"flex items-center"},ta={class:"q-pa-md"},aa={__name:"MainHeader",props:{toggleLeftDrawer:Function,title:String},setup(e){J.get("user_id");const o=S(!1),a=S("bg-ligth"),m=()=>{localStorage.getItem("color-scheme")==="bg-ligth"?(localStorage.setItem("color-scheme","bg-dark"),a.value="bg-dark"):(localStorage.setItem("color-scheme","bg-ligth"),a.value="bg-ligth")};return(t,l)=>{const r=xe("router-link");return I(),z(Jt,{elevated:"",class:_e(a.value)},{default:M(()=>[B(Gt,{class:"flex justify-between"},{default:M(()=>[N("div",Zt,[B(Te,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),B(Nt,null,{default:M(()=>[He(qe(e.title),1)]),_:1})]),N("div",ea,[N("div",ta,[B(Kt,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=d=>o.value=d),color:"pink-3",onClick:m},null,8,["modelValue"])]),B(r,{to:{name:"auth"},class:"flex link text-white"},{default:M(()=>[B(Te,{label:"\u0412\u043E\u0439\u0442\u0438"})]),_:1})])]),_:1})]),_:1},8,["class"])}}},Ve={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},la=Object.keys(Ve);Ve.all=!0;function Qe(e){const o={};for(const a of la)e[a]===!0&&(o[a]=!0);return Object.keys(o).length===0?Ve:(o.horizontal===!0?o.left=o.right=!0:o.left===!0&&o.right===!0&&(o.horizontal=!0),o.vertical===!0?o.up=o.down=!0:o.up===!0&&o.down===!0&&(o.vertical=!0),o.horizontal===!0&&o.vertical===!0&&(o.all=!0),o)}function Fe(e,o){return o.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof o.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(o.uid)===-1)}function pe(e,o,a){const m=we(e);let t,l=m.left-o.event.x,r=m.top-o.event.y,d=Math.abs(l),v=Math.abs(r);const c=o.direction;c.horizontal===!0&&c.vertical!==!0?t=l<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?t=r<0?"up":"down":c.up===!0&&r<0?(t="up",d>v&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.down===!0&&r>0?(t="down",d>v&&(c.left===!0&&l<0?t="left":c.right===!0&&l>0&&(t="right"))):c.left===!0&&l<0?(t="left",d<v&&(c.up===!0&&r<0?t="up":c.down===!0&&r>0&&(t="down"))):c.right===!0&&l>0&&(t="right",d<v&&(c.up===!0&&r<0?t="up":c.down===!0&&r>0&&(t="down")));let u=!1;if(t===void 0&&a===!1){if(o.event.isFirst===!0||o.event.lastDir===void 0)return{};t=o.event.lastDir,u=!0,t==="left"||t==="right"?(m.left-=l,d=0,l=0):(m.top-=r,v=0,r=0)}return{synthetic:u,payload:{evt:e,touch:o.event.mouse!==!0,mouse:o.event.mouse===!0,position:m,direction:t,isFirst:o.event.isFirst,isFinal:a===!0,duration:Date.now()-o.event.time,distance:{x:d,y:v},offset:{x:l,y:r},delta:{x:m.left-o.event.lastX,y:m.top-o.event.lastY}}}}let oa=0;var be=vt({name:"touch-pan",beforeMount(e,{value:o,modifiers:a}){if(a.mouse!==!0&&K.has.touch!==!0)return;function m(l,r){a.mouse===!0&&r===!0?ye(l):(a.stop===!0&&me(l),a.prevent===!0&&Ie(l))}const t={uid:"qvtp_"+oa++,handler:o,modifiers:a,direction:Qe(a),noop:mt,mouseStart(l){Fe(l,t)&&ht(l)&&(te(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(Fe(l,t)){const r=l.target;te(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,r){if(K.is.firefox===!0&&ve(e,!0),t.lastEvt=l,r===!0||a.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const c=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Ie(c),l.cancelBubble===!0&&me(c),Object.assign(c,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:c}}me(l)}const{left:d,top:v}=we(l);t.event={x:d,y:v,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:v}},move(l){if(t.event===void 0)return;const r=we(l),d=r.left-t.event.x,v=r.top-t.event.y;if(d===0&&v===0)return;t.lastEvt=l;const c=t.event.mouse===!0,u=()=>{m(l,c);let g;a.preserveCursor!==!0&&a.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),t.styleCleanup=s=>{if(t.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),c===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};s!==void 0?setTimeout(()=>{y(),s()},50):y()}else s!==void 0&&s()}};if(t.event.detected===!0){t.event.isFirst!==!0&&m(l,t.event.mouse);const{payload:g,synthetic:s}=pe(l,t,!1);g!==void 0&&(t.handler(g)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&u(),t.event.lastX=g.position.left,t.event.lastY=g.position.top,t.event.lastDir=s===!0?void 0:g.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||c===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){u(),t.event.detected=!0,t.move(l);return}const x=Math.abs(d),k=Math.abs(v);x!==k&&(t.direction.horizontal===!0&&x>k||t.direction.vertical===!0&&x<k||t.direction.up===!0&&x<k&&v<0||t.direction.down===!0&&x<k&&v>0||t.direction.left===!0&&x>k&&d<0||t.direction.right===!0&&x>k&&d>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,r){if(t.event!==void 0){if(he(t,"temp"),K.is.firefox===!0&&ve(e,!1),r===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(pe(l===void 0?t.lastEvt:l,t).payload);const{payload:d}=pe(l===void 0?t.lastEvt:l,t,!0),v=()=>{t.handler(d)};t.styleCleanup!==void 0?t.styleCleanup(v):v()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,a.mouse===!0){const l=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";te(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}K.has.touch===!0&&te(t,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const a=e.__qtouchpan;a!==void 0&&(o.oldValue!==o.value&&(typeof value!="function"&&a.end(),a.handler=o.value),a.direction=Qe(o.modifiers))},beforeUnmount(e){const o=e.__qtouchpan;o!==void 0&&(o.event!==void 0&&o.end(),he(o,"main"),he(o,"temp"),K.is.firefox===!0&&ve(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchpan)}});const Pe=150;var na=X({name:"QDrawer",inheritAttrs:!1,props:{...Dt,...Re,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Qt,"onLayout","miniState"],setup(e,{slots:o,emit:a,attrs:m}){const t=oe(),{proxy:{$q:l}}=t,r=We(e,l),{preventBodyScroll:d}=At(),{registerTimeout:v,removeTimeout:c}=Ft(),u=ne(Ce,Q);if(u===Q)return console.error("QDrawer needs to be child of QLayout"),Q;let x,k=null,g;const s=S(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),y=i(()=>e.mini===!0&&s.value!==!0),_=i(()=>y.value===!0?e.miniWidth:e.width),p=S(e.showIfAbove===!0&&s.value===!1?!0:e.modelValue===!0),f=i(()=>e.persistent!==!0&&(s.value===!0||Xe.value===!0));function $(n,b){if(j(),n!==!1&&u.animate(),L(0),s.value===!0){const T=u.instances[Z.value];T!==void 0&&T.belowBreakpoint===!0&&T.hide(!1),P(1),u.isContainer.value!==!0&&d(!0)}else P(0),n!==!1&&ce(!1);v(()=>{n!==!1&&ce(!0),b!==!0&&a("show",n)},Pe)}function H(n,b){re(),n!==!1&&u.animate(),P(0),L(F.value*_.value),de(),b!==!0?v(()=>{a("hide",n)},Pe):c()}const{show:h,hide:q}=Pt({showing:p,hideOnRouteChange:f,handleShow:$,handleHide:H}),{addToHistory:j,removeFromHistory:re}=Et(p,q,f),W={belowBreakpoint:s,hide:q},D=i(()=>e.side==="right"),F=i(()=>(l.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),w=S(0),O=S(!1),R=S(!1),Be=S(_.value*F.value),Z=i(()=>D.value===!0?"left":"right"),ue=i(()=>p.value===!0&&s.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:_.value:0),ie=i(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(D.value?"R":"L")>-1||l.platform.is.ios===!0&&u.isContainer.value===!0),Y=i(()=>e.overlay===!1&&p.value===!0&&s.value===!1),Xe=i(()=>e.overlay===!0&&p.value===!0&&s.value===!1),Ye=i(()=>"fullscreen q-drawer__backdrop"+(p.value===!1&&O.value===!1?" hidden":"")),Ke=i(()=>({backgroundColor:`rgba(0,0,0,${w.value*.4})`})),$e=i(()=>D.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),Ge=i(()=>D.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),Je=i(()=>{const n={};return u.header.space===!0&&$e.value===!1&&(ie.value===!0?n.top=`${u.header.offset}px`:u.header.space===!0&&(n.top=`${u.header.size}px`)),u.footer.space===!0&&Ge.value===!1&&(ie.value===!0?n.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(n.bottom=`${u.footer.size}px`)),n}),Ze=i(()=>{const n={width:`${_.value}px`,transform:`translateX(${Be.value}px)`};return s.value===!0?n:Object.assign(n,Je.value)}),et=i(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),tt=i(()=>`q-drawer q-drawer--${e.side}`+(R.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(O.value===!0?" no-transition":p.value===!0?"":" q-layout--prevent-focus")+(s.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${y.value===!0?"mini":"standard"}`+(ie.value===!0||Y.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+($e.value===!0?" q-drawer--top-padding":""))),at=i(()=>{const n=l.lang.rtl===!0?e.side:Z.value;return[[be,rt,void 0,{[n]:!0,mouse:!0}]]}),lt=i(()=>{const n=l.lang.rtl===!0?Z.value:e.side;return[[be,Oe,void 0,{[n]:!0,mouse:!0}]]}),ot=i(()=>{const n=l.lang.rtl===!0?Z.value:e.side;return[[be,Oe,void 0,{[n]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){ut(s,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}C(s,n=>{n===!0?(x=p.value,p.value===!0&&q(!1)):e.overlay===!1&&e.behavior!=="mobile"&&x!==!1&&(p.value===!0?(L(0),P(0),de()):h(!1))}),C(()=>e.side,(n,b)=>{u.instances[b]===W&&(u.instances[b]=void 0,u[b].space=!1,u[b].offset=0),u.instances[n]=W,u[n].size=_.value,u[n].space=Y.value,u[n].offset=ue.value}),C(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),C(()=>e.behavior+e.breakpoint,se),C(u.isContainer,n=>{p.value===!0&&d(n!==!0),n===!0&&se()}),C(u.scrollbarWidth,()=>{L(p.value===!0?0:void 0)}),C(ue,n=>{E("offset",n)}),C(Y,n=>{a("onLayout",n),E("space",n)}),C(D,()=>{L()}),C(_,n=>{L(),fe(e.miniToOverlay,n)}),C(()=>e.miniToOverlay,n=>{fe(n,_.value)}),C(()=>l.lang.rtl,()=>{L()}),C(()=>e.mini,()=>{e.modelValue===!0&&(nt(),u.animate())}),C(y,n=>{a("miniState",n)});function L(n){n===void 0?Me(()=>{n=p.value===!0?0:_.value,L(F.value*n)}):(u.isContainer.value===!0&&D.value===!0&&(s.value===!0||Math.abs(n)===_.value)&&(n+=F.value*u.scrollbarWidth.value),Be.value=n)}function P(n){w.value=n}function ce(n){const b=n===!0?"remove":u.isContainer.value!==!0?"add":"";b!==""&&document.body.classList[b]("q-body--drawer-toggle")}function nt(){k!==null&&clearTimeout(k),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),R.value=!0,k=setTimeout(()=>{k=null,R.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function rt(n){if(p.value!==!1)return;const b=_.value,T=ae(n.distance.x,0,b);if(n.isFinal===!0){T>=Math.min(75,b)===!0?h():(u.animate(),P(0),L(F.value*b)),O.value=!1;return}L((l.lang.rtl===!0?D.value!==!0:D.value)?Math.max(b-T,0):Math.min(0,T-b)),P(ae(T/b,0,1)),n.isFirst===!0&&(O.value=!0)}function Oe(n){if(p.value!==!0)return;const b=_.value,T=n.direction===e.side,ee=(l.lang.rtl===!0?T!==!0:T)?ae(n.distance.x,0,b):0;if(n.isFinal===!0){Math.abs(ee)<Math.min(75,b)===!0?(u.animate(),P(1),L(0)):q(),O.value=!1;return}L(F.value*ee),P(ae(1-ee/b,0,1)),n.isFirst===!0&&(O.value=!0)}function de(){d(!1),ce(!0)}function E(n,b){u.update(e.side,n,b)}function ut(n,b){n.value!==b&&(n.value=b)}function fe(n,b){E("size",n===!0?e.miniWidth:b)}return u.instances[e.side]=W,fe(e.miniToOverlay,_.value),E("space",Y.value),E("offset",ue.value),e.showIfAbove===!0&&e.modelValue!==!0&&p.value===!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),je(()=>{a("onLayout",Y.value),a("miniState",y.value),x=e.showIfAbove===!0;const n=()=>{(p.value===!0?$:H)(!1,!0)};if(u.totalWidth.value!==0){Me(n);return}g=C(u.totalWidth,()=>{g(),g=void 0,p.value===!1&&e.showIfAbove===!0&&s.value===!1?h(!1):n()})}),ke(()=>{g!==void 0&&g(),k!==null&&(clearTimeout(k),k=null),p.value===!0&&de(),u.instances[e.side]===W&&(u.instances[e.side]=void 0,E("size",0),E("offset",0),E("space",!1))}),()=>{const n=[];s.value===!0&&(e.noSwipeOpen===!1&&n.push(Ne(V("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),at.value)),n.push(ze("div",{ref:"backdrop",class:Ye.value,style:Ke.value,"aria-hidden":"true",onClick:q},void 0,"backdrop",e.noSwipeBackdrop!==!0&&p.value===!0,()=>ot.value)));const b=y.value===!0&&o.mini!==void 0,T=[V("div",{...m,key:""+b,class:[et.value,m.class]},b===!0?o.mini():le(o.default))];return e.elevated===!0&&p.value===!0&&T.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(ze("aside",{ref:"content",class:tt.value,style:Ze.value},T,"contentclose",e.noSwipeClose!==!0&&s.value===!0,()=>lt.value)),V("div",{class:"q-drawer-container"},n)}}});const ra={class:"text-h5 text-center"},ua={__name:"MainDrawer",props:{side:String,title:String},setup(e){return(o,a)=>(I(),z(na,{side:e.side,"show-if-above":"",bordered:""},{default:M(()=>[N("header",ra,qe(e.title),1),gt(o.$slots,"list",{},()=>[He("\u041F\u0443\u0441\u0442\u043E!")])]),_:3},8,["side"]))}};var ia=X({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:a}){const{proxy:{$q:m}}=oe(),t=ne(Ce,Q);if(t===Q)return console.error("QFooter needs to be child of QLayout"),Q;const l=S(parseInt(e.heightHint,10)),r=S(!0),d=S(pt.value===!0||t.isContainer.value===!0?0:window.innerHeight),v=i(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||m.platform.is.ios&&t.isContainer.value===!0),c=i(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),u=i(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return r.value===!0?l.value:0;const h=t.scroll.value.position+c.value+l.value-t.height.value;return h>0?h:0}),x=i(()=>e.modelValue!==!0||v.value===!0&&r.value!==!0),k=i(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),g=i(()=>"q-footer q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(v.value!==!0?" hidden":""):"")),s=i(()=>{const h=t.rows.value.bottom,q={};return h[0]==="l"&&t.left.space===!0&&(q[m.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),h[2]==="r"&&t.right.space===!0&&(q[m.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),q});function y(h,q){t.update("footer",h,q)}function _(h,q){h.value!==q&&(h.value=q)}function p({height:h}){_(l,h),y("size",h)}function f(){if(e.reveal!==!0)return;const{direction:h,position:q,inflectionPoint:j}=t.scroll.value;_(r,h==="up"||q-j<100||t.height.value-c.value-q-l.value<300)}function $(h){k.value===!0&&_(r,!0),a("focusin",h)}C(()=>e.modelValue,h=>{y("space",h),_(r,!0),t.animate()}),C(u,h=>{y("offset",h)}),C(()=>e.reveal,h=>{h===!1&&_(r,e.modelValue)}),C(r,h=>{t.animate(),a("reveal",h)}),C([l,t.scroll,t.height],f),C(()=>m.screen.height,h=>{t.isContainer.value!==!0&&_(d,h)});const H={};return t.instances.footer=H,e.modelValue===!0&&y("size",l.value),y("space",e.modelValue),y("offset",u.value),ke(()=>{t.instances.footer===H&&(t.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const h=Ae(o.default,[V(Ee,{debounce:0,onResize:p})]);return e.elevated===!0&&h.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),V("footer",{class:g.value,style:s.value,onFocusin:$},h)}}});const sa={};function ca(e,o){return I(),z(ia)}var da=bt(sa,[["render",ca]]);const fa={class:"flex"},va={class:"flex items-center q-ml-sm"},ma={__name:"TreeMenuItem",props:{page:Object,modules:Array},setup(e){var g;const{page:o,modules:a}=e,{result:m}=Se(Bt,{group_id:(g=o==null?void 0:o.object)==null?void 0:g.id}),t=S("3787230485103944499"),l=ne("isOwner"),r=i(()=>{const s=a==null?void 0:a.reduce((_,p)=>(_.push(...p.modules),_),[]),y=s==null?void 0:s.find(_=>_.id===o.object.id);return y?y.responsible.user_id===parseFloat(J.get("user_id")):!1}),d=S(!1),v=i(()=>{var s;return(s=o.children)==null?void 0:s.data.length}),c=i(()=>v.value&&d.value?"icon text-h6 drop-down-icon-rotated":"icon text-h6 drop-down-icon"),u=i(()=>v.value&&d.value?"ml-md children-wrapper-expanded":"ml-md children-wrapper-collapsed"),x=()=>{d.value=!d.value},k=()=>{var s,y;return((s=o.object)==null?void 0:s.type_id)===((y=m.value)==null?void 0:y.get_group.type_id)?"group":"page"};return(s,y)=>{const _=xe("router-link");return A(r)||e.page.object.type_id!=t.value||A(l)?(I(),z(De,{class:"q-pa-none column",key:e.modules},{default:M(()=>[B(_,{to:{name:k(),params:{id:e.page.id}}},{default:M(()=>[B(De,{clickable:"",class:"cursor-pointer rounded-borders q-pa-sm flex items-center"},{default:M(()=>[N("div",fa,[A(v)?(I(),z(G,{key:0,onClick:yt(x,["prevent"]),class:_e(A(c)),name:"keyboard_arrow_right"},null,8,["onClick","class"])):(I(),z(G,{key:1,class:"text-h6"})),e.page.icon?(I(),z(G,{key:2,name:e.page.icon,class:"text-h6"},null,8,["name"])):(I(),z(G,{key:3,class:"text-h6",name:"assignment"})),N("div",va,qe(e.page.title),1)])]),_:1})]),_:1},8,["to"]),B(Ht,{class:_e(A(u))},{default:M(()=>{var p;return[N("div",null,[Ne(B(Ue,{modules:e.modules,pages:(p=e.page.children)==null?void 0:p.data},null,8,["modules","pages"]),[[_t,A(v)]])])]}),_:1},8,["class"])]),_:1})):wt("",!0)}}},Ue={__name:"TreeMenu",props:{pages:Array},setup(e){const{result:o}=Se($t);return(a,m)=>(I(),z(jt,null,{default:M(()=>[(I(!0),kt(Ct,null,xt(e.pages,t=>{var l,r;return I(),z(ma,{key:t.id,page:t,modules:(r=(l=A(o))==null?void 0:l.paginate_subject)==null?void 0:r.data},null,8,["page","modules"])}),128))]),_:1}))}},qa={__name:"MainLayout",setup(e){Tt(zt);const o=S(!1),a=S(J.get("user_id")==="5571026735801383150"),{result:m,refetch:t}=Se(Ot),l=()=>{o.value=!o.value};return Le("updatePages",t),Le("isOwner",a),ge.queueCreate(),je(()=>{J.get("queue")||ge.queueCreate(),ge.stompConnect()}),qt(()=>{J.set("queue",null)}),(r,d)=>{const v=xe("router-view");return I(),z(st,{view:"hHh Lpr fFf"},{default:M(()=>[B(aa,{toggleLeftDrawer:l,title:"Space"}),B(ua,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=c=>o.value=c),side:"left",title:"\u0421\u043F\u0438\u0441\u043E\u043A"},{list:M(()=>{var c;return[B(Ue,{pages:(c=A(m))==null?void 0:c.rootPages.data},null,8,["pages"])]}),_:1},8,["modelValue"]),B(it,null,{default:M(()=>[B(v,null,{default:M(({Component:c})=>[(I(),z(St,{key:r.$route.fullPath},[(I(),z(Vt(c)))],1024))]),_:1})]),_:1}),B(da)]),_:1})}}};export{qa as default};
