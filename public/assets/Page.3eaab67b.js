import{Q as _}from"./QPage.85506c96.js";import{b as h,c as N,C as w,J as B,D as $,E as O}from"./queries.dad14669.js";import{a2 as y,r as v,j as C,P as V,L as j,T as a,m as s,n as c,p as m,y as x,X as Q,q as k,W as q,v as g,z as P,_ as U,w as D,aj as E}from"./index.546e37fb.js";import{c as z,_ as b,d as A}from"./MainTable.9919e0b4.js";import"./QItemSection.8bfaa85e.js";import"./scroll.f8e10307.js";import"./QForm.21ad6556.js";import"./stompClient.811952bd.js";import"./QItem.ece6d44b.js";const I=g("div",{class:"text-h3 text-center q-pb-md"},"\u041C\u043E\u0434\u0443\u043B\u0438",-1),J={key:0,class:"q-my-md flex"},L={__name:"ModulesPage",props:{page:Object},setup(p){const{page:o}=p;y("page",o);let n=v(null),e=v(null),d;const t=C("isOwner");V.get("user_id")==="5571026735801383150"?{result:n,loading:e,refetch:d}=h(N):{result:n,loading:e,refetch:d}=h(w);const r=v();return y("updateModules",d),j(()=>{const l=["\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F \u043D\u0430\u0447\u0430\u043B\u0430","\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F","\u0417\u0430\u0434\u0430\u0447\u0438"];t.value&&l.push("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),console.log(l),r.value=l}),(l,f)=>a(e)?(s(),c(_,{key:0,class:"flex justify-center items-center text-h4"},{default:m(()=>[x(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ")]),_:1})):(s(),c(_,{key:1,class:"q-pa-md"},{default:m(()=>{var u;return[I,a(t)?(s(),Q("div",J,[k(z)])):q("",!0),k(b,{modules:(u=a(n))==null?void 0:u.paginate_subject.data,columnNames:r.value},null,8,["modules","columnNames"])]}),_:1}))}},R={class:"text-h3 text-center"},S={class:"q-mt-md"},W={class:"flex"},X={__name:"ModulePage",props:{page:Object},setup(p){const{page:o}=p,{result:n,refetch:e,loading:d}=h(B,{module_id:o.object.id}),{refetch:t}=h($);return y("updateTasks",t),y("updateModule",e),j(()=>{!o||e({module_id:o.object.id})}),(r,l)=>a(d)?(s(),c(_,{key:0,class:"flex items-center justify-center text-h4"},{default:m(()=>[x(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ")]),_:1})):(s(),c(_,{key:1,class:"q-pa-md"},{default:m(()=>{var f,u,i;return[g("header",R,P((f=a(n))==null?void 0:f.get_module.name),1),g("main",S,[g("div",W,[k(A,{"module-id":(u=a(n))==null?void 0:u.get_module.id,title:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","button-label":"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443"},null,8,["module-id"])]),k(b,{class:"w-100p q-my-md","column-names":["\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u0418\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"],"module-id":(i=a(n))==null?void 0:i.get_module.id},null,8,["module-id"])])]}),_:1}))}},F={class:"text-center text-h3 q-mb-md"},G={__name:"TasksPage",props:{page:Object},setup(p){const{result:o,loading:n,refetch:e}=h($);return y("updateTasks",e),(d,t)=>a(n)?(s(),c(_,{key:0,class:"flex items-center justify-center text-h4"},{default:m(()=>[x(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ")]),_:1})):(s(),c(_,{key:1,class:"q-pa-md"},{default:m(()=>{var r;return[g("header",F,P(p.page.title),1),g("main",null,[k(b,{"column-names":["\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","\u0421\u0442\u0430\u0442\u0443\u0441","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"],tasks:(r=a(o))==null?void 0:r.paginate_subject.data[0]},null,8,["tasks"])])]}),_:1}))}},H={};function K(p,o){return s(),c(_,null,{default:m(()=>[x(" \u0417\u0430\u0434\u0430\u0447\u0430 ")]),_:1})}var Y=U(H,[["render",K]]);const oe={__name:"Page",setup(p){const n=E().params.id,{result:e,loading:d}=h(O,{id:n}),t=v(""),r=()=>{var u,i;const l=(u=e.value)==null?void 0:u.page.object.type_id,f=(i=e.value)==null?void 0:i.page.title;l===null?t.value=f:l==="3787230485103944499"?t.value="\u041C\u043E\u0434\u0443\u043B\u044C":l==="8666135715858217678"&&(t.value="\u0417\u0430\u0434\u0430\u0447\u0430")};return j(()=>{t.value||r()}),D(e,l=>{!l||r()}),(l,f)=>{var u,i,M,T;return a(d)?(s(),c(_,{key:0,class:"flex text-h4 items-center justify-center"},{default:m(()=>[x(" \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ")]),_:1})):t.value==="\u041C\u043E\u0434\u0443\u043B\u0438"?(s(),c(L,{key:1,page:(u=a(e))==null?void 0:u.page},null,8,["page"])):t.value==="\u041C\u043E\u0434\u0443\u043B\u044C"?(s(),c(X,{key:2,page:(i=a(e))==null?void 0:i.page},null,8,["page"])):t.value==="\u0417\u0430\u0434\u0430\u0447\u0438"?(s(),c(G,{key:3,page:(M=a(e))==null?void 0:M.page},null,8,["page"])):t.value==="\u0417\u0430\u0434\u0430\u0447\u0430"?(s(),c(Y,{key:4,page:(T=a(e))==null?void 0:T.page},null,8,["page"])):q("",!0)}}};export{oe as default};
